@using static MonPDReborn.Models.DashboardVM
@model MonPDReborn.Models.DashboardVM.PemasanganAlatRekamSeries

@{
    var currentYear = DateTime.Now.Year;
    var tahun1 = (currentYear - 4).ToString();
    var tahun2 = (currentYear - 3).ToString();
    var tahun3 = (currentYear - 2).ToString();
    var tahun4 = (currentYear - 1).ToString();
    var tahun5 = currentYear.ToString();
}
@(
Html.DevExtreme().DataGrid<ViewModel.PemasanganAlatRekamSeries>()
.ID("dg-JmlTsSeries")
.ShowBorders(true)
.ShowColumnHeaders(true)
.ShowColumnLines(true)
.ShowRowLines(true)
.ColumnAutoWidth(true)
.SearchPanel(s => s.Visible(true).HighlightCaseSensitive(false))
.FilterRow(f => f.Visible(true))
.HeaderFilter(h => h.Visible(true))
.Sorting(s => s.Mode(GridSortingMode.Multiple))
.AllowColumnResizing(true)
.DataSource(Model.Data)
.KeyExpr("ID")
.Columns(columns =>
{
    columns.AddFor(x => x.JenisPajak).Caption("JENIS PAJAK").Fixed(true)
            .FixedPosition(HorizontalEdge.Left);
    columns.AddFor(x => x.Jumlah1).Caption(tahun1).DataType(GridColumnDataType.Number).Format("#,##0");
    columns.AddFor(x => x.Jumlah2).Caption(tahun2).DataType(GridColumnDataType.Number).Format("#,##0");
    columns.AddFor(x => x.Jumlah3).Caption(tahun3).DataType(GridColumnDataType.Number).Format("#,##0");
    columns.AddFor(x => x.Jumlah4).Caption(tahun4).DataType(GridColumnDataType.Number).Format("#,##0");
    columns.AddFor(x => x.Jumlah5).Caption(tahun5).DataType(GridColumnDataType.Number).Format("#,##0");
})
.Summary(s => {
    s.TotalItems(items => {
        items.AddFor(x => x.Jumlah1)
            .ValueFormat("#,##0")
            .DisplayFormat("Total: {0}")
            .SummaryType(SummaryType.Sum);
        items.AddFor(x => x.Jumlah2)
            .ValueFormat("#,##0")
            .DisplayFormat("{0}")
            .SummaryType(SummaryType.Sum);
        items.AddFor(x => x.Jumlah3)
            .ValueFormat("#,##0")
            .DisplayFormat("{0}")
            .SummaryType(SummaryType.Sum);
        items.AddFor(x => x.Jumlah4)
            .ValueFormat("#,##0")
            .DisplayFormat("{0}")
            .SummaryType(SummaryType.Sum);
        items.AddFor(x => x.Jumlah5)
            .ValueFormat("#,##0")
            .DisplayFormat("{0}")
            .SummaryType(SummaryType.Sum);
    });
})
)