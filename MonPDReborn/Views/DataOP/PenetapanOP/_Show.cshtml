@model MonPDReborn.Models.DataOP.PenetapanOPVM.Show

<div class="table-responsive">
    @(Html.DevExtreme().DataGrid<MonPDReborn.Models.DataOP.PenetapanOPVM.PenetapanOP>()
            .ID("penetapanGrid")
            .DataSource(Model.DataPenetapanOPList)
            .KeyExpr("No")
            .Columns(columns => {
                columns.AddFor(m => m.No).Caption("No").Width(50);
                columns.AddFor(m => m.NoPenetapan).Caption("No. Penetapan");
                columns.AddFor(m => m.NamaWP).Caption("Nama WP");
                columns.AddFor(m => m.Alamat).Caption("Alamat");
                columns.AddFor(m => m.NilaiPenetapan).Caption("Nilai Penetapan").Format(f => f.Type(Format.Currency).Precision(0).Currency("IDR")).Alignment(HorizontalAlignment.Right);
                columns.AddFor(m => m.MasaPajak).Caption("Masa Pajak");
                columns.AddFor(m => m.Status).Caption("Status").Caption("Status").CellTemplate(@<text>
                    <span class='<%=
                        data.Status === "Lunas" ? "badge bg-success" : "badge bg-danger"
                    %>'><%= data.Status %></span>
                </text>);
                columns.Add()
                .Type(GridCommandColumnType.Buttons)
                .Buttons(b =>
                {
                    b.Add()
                .Text("Detail")
                .Icon("search")
                .OnClick("onDetailClick");
             });
            })
            .ShowBorders(true)
            .ShowColumnLines(true)
            .ShowColumnHeaders(true)
            .AllowColumnResizing(true)
            .ShowRowLines(true)
            .ColumnAutoWidth(true)
            .SearchPanel(s => s.Visible(true).HighlightCaseSensitive(false))
            .FilterRow(f => f.Visible(true))
            .HeaderFilter(h => h.Visible(true))
            .Sorting(s => s.Mode(GridSortingMode.Multiple))
            .Paging(p => p.PageSize(10))
            .Pager(pager =>
            {
                pager.ShowPageSizeSelector(true);
                pager.AllowedPageSizes(new[] { 10, 20, 50 });
                pager.ShowInfo(true);
            })
        )
</div>