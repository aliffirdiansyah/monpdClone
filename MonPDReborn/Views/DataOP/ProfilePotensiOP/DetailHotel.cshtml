@using MonPDReborn.Models.DataOP
@model ProfilePotensiOPVM.DetailPotensiPajakHotel

@{
    Layout = "_Layout";
}

<div class="row">

    <div class="col-lg-12">
        <div class="card border border-info border-2">
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="d-flex p-3">
                            <div class="flex-shrink-0">
                                <div class="avatar-md me-3">
                                    <span class="avatar-title bg-soft-info rounded-circle fs-1">
                                        <i class="ri-hotel-line text-info"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="mt-2">
                                <h4 class="fs-16 fw-semibold">
                                    @Model.Nama
                                </h4>
                                <p class="fs-16 lh-base">
                                    @Model.Alamat
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="d-flex p-3">
                            <h3 class="fs-16 fw-semibold">
                                Potensi Pajak
                            </h3>
                        </div>
                        <div class="d-flex p-3 py-0">
                            <p class="fs-14 text-muted flex-grow-1">Per Bulan</p>
                            <div class="flex-shrink-0">
                                <p class="fs-16 fw-semibold">@Model.PotensiPajakPerBulan.ToString("C")</p>
                            </div>
                        </div>
                        <div class="d-flex p-3 py-0">
                            <p class="fs-14 text-muted flex-grow-1">Per Tahun</p>
                            <div class="flex-shrink-0">
                                <p class="fs-16 fw-semibold">@Model.PotensiPajakPerTahun.ToString("C")</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="d-flex p-3">
                            <div class="flex-shrink-0 ms-3">
                                <p class="fs-14 text-muted mb-1">NOP</p>
                                <p class="fs-14 fw-semibold mb-3">@Model.NOP</p>
                            </div>
                            <div class="flex-shrink-0 ms-5">
                                <p class="fs-14 text-muted mb-1">Jumlah Kamar</p>
                                <p class="fs-14 fw-semibold mb-3">@Model.JumlahTotalRoom Kamar</p>
                            </div>
                            <div class="flex-shrink-0 ms-3">
                                <p class="fs-14 text-muted mb-1">Kapasitas Banquet</p>
                                <p class="fs-14 fw-semibold mb-3">@Model.KapasitasMaksimalPaxBanquetPerHari Orang</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-8">

        <div class="card">
            <div class="card-header d-flex bg-soft-info">
                <h4 class="card-title fs-16 mb-0">
                    Detail Kamar Hotel
                </h4>
            </div>
            <div class="card-body">
                <div class="row">

                    <div class="col-lg-8">
                        <div class="card h-100">
                            <div class="card-body">
                                <p class="fs-14 fw-semibold mb-1">Tingkat Hunian Kamar</p>
                                <div class="progress" style="height:20px">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                         style="width: @((Model.OkupansiRateRoom*100).ToString("F0"))%;"
                                         aria-valuenow="@((Model.OkupansiRateRoom*100).ToString("F0"))">
                                        @((Model.OkupansiRateRoom * 100).ToString("N2"))%
                                    </div>
                                </div>
                                <br />
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Jumlah Kamar</p>
                                    <div class="flex-shrink-0"><p class="fs-14 fw-semibold">@Model.JumlahTotalRoom.ToString("N0")</p></div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Tarif Rata-rata Kamar</p>
                                    <div class="flex-shrink-0"><p class="fs-14 fw-semibold">@Model.HargaRataRataRoom.ToString("C0")</p></div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Rata-rata Kamar Terjual</p>
                                    <div class="flex-shrink-0"><p class="fs-14 fw-semibold">@Model.RataRataRoomTerjualPerHari.ToString("N0")</p></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="card border border-info border-2 h-100">
                            <div class="card-body bg-soft-info bg-opacity-25 d-flex flex-column justify-content-center text-center">
                                <h5 class="fs-16 fw-semibold">Omzet per Bulan (Kamar)</h5>
                                <h3 class="fs-22 fw-bold my-3">
                                    @Model.PotensiOmzetRoomPerBulan.ToString("C0")
                                </h3>
                                <hr>
                                <p class="fs-12 text-muted mb-0">@Model.TarifPajak.ToString("P2") dari Omzet)</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="card border border-info border-2 mt-3">
                            <div class="card-body">
                                <h4 class="fs-16 fw-semibold mb-2">Perhitungan Rata-rata Room Terjual per Hari</h4>
                                <p class="fs-14 text-muted mb-1 font-monospace">
                                    Jumlah Total Room x Okupansi Rate Room
                                </p>
                                <p class="fs-14 text-muted mb-3 fw-semibold">
                                    @Model.JumlahTotalRoom.ToString("N0") x @Model.OkupansiRateRoom.ToString("P0") = @Model.RataRataRoomTerjualPerHari.ToString("N0")
                                </p>

                                <hr>

                                <h4 class="fs-16 fw-semibold mb-2">Perhitungan Omzet Kamar per Bulan</h4>
                                <p class="fs-14 text-muted mb-1 font-monospace">
                                    Harga Rata-rata Room x Rata-rata Room Terjual/Hari x 30 Hari
                                </p>
                                <p class="fs-14 text-muted fw-semibold">
                                    @Model.HargaRataRataRoom.ToString("C0") x @Model.RataRataRoomTerjualPerHari.ToString("N0") x 30 = @Model.PotensiOmzetRoomPerBulan.ToString("C0")
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex bg-soft-info">
                <h4 class="card-title fs-16 mb-0">
                    Detail Banquet Hotel
                </h4>
            </div>
            <div class="card-body">
                <div class="row">

                    <div class="col-lg-8">
                        <div class="card h-100">
                            <div class="card-body">
                                <p class="fs-14 fw-semibold mb-1">Detail Banquet</p>
                                <div class="progress" style="height:20px">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                         style="width: @((Model.OkupansiRateBanquet*100).ToString("F0"))%;"
                                         aria-valuenow="@((Model.OkupansiRateBanquet*100).ToString("F0"))">
                                        @((Model.OkupansiRateBanquet * 100).ToString("N2"))%
                                    </div>
                                </div>
                                <br />
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Kapasitas Banquet</p>
                                    <div class="flex-shrink-0"><p class="fs-14 fw-semibold">@Model.KapasitasMaksimalPaxBanquetPerHari.ToString("N0")</p></div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Tarif Rata-rata Banquet</p>
                                    <div class="flex-shrink-0"><p class="fs-14 fw-semibold">@Model.HargaRataRataBanquetPerPax.ToString("C0")</p></div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Rata-rata Banquet Terjual</p>
                                    <div class="flex-shrink-0"><p class="fs-14 fw-semibold">@Model.RataRataPaxBanquetTerjualPerHari.ToString("N0")</p></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="card border border-info border-2 h-100">
                            <div class="card-body bg-soft-info bg-opacity-25 d-flex flex-column justify-content-center text-center">
                                <h5 class="fs-16 fw-semibold">Omzet per Bulan (Banquet)</h5>
                                <h3 class="fs-22 fw-bold my-3">
                                    @Model.PotensiOmzetBanquetPerBulan.ToString("C0")
                                </h3>
                                <hr>
                                <p class="fs-12 text-muted mb-0">@Model.TarifPajak.ToString("P2") dari Omzet)</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="card border border-warning border-2 mt-3">
                            <div class="card-body">
                                <h4 class="fs-16 fw-semibold mb-2">Perhitungan Rata-rata Pax Banquet Terjual per Hari</h4>
                                <p class="fs-14 text-muted mb-1 font-monospace">
                                    Kapasitas Maksimum Pax Banquet/Hari x Okupansi Rate Banquet
                                </p>
                                <p class="fs-14 text-muted mb-3 fw-semibold">
                                    @Model.KapasitasMaksimalPaxBanquetPerHari.ToString("N0") x @Model.OkupansiRateBanquet.ToString("P0") = @(Model.RataRataPaxBanquetTerjualPerHari.ToString("N0"))
                                </p>

                                <hr>

                                <h4 class="fs-16 fw-semibold mb-2">Perhitungan Omzet Banquet per Bulan</h4>
                                <p class="fs-14 text-muted mb-1 font-monospace">
                                    Harga Rata-rata Banquet/Pax x Rata-rata Pax Terjual/Hari x 8 Hari
                                </p>
                                <p class="fs-14 text-muted fw-semibold">
                                    @Model.HargaRataRataBanquetPerPax.ToString("C0") x @Model.RataRataPaxBanquetTerjualPerHari.ToString("N0") x 8 = @Model.PotensiOmzetBanquetPerBulan.ToString("C0")
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            @* <div class="card">
                <div class="card-header d-flex bg-soft-info">
                    <h4 class="card-title fs-16 mb-0">
                        Perhitungan Total Potensi Pajak
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="card border border-info border-2 h-100">
                                <div class="card-body">
                                    <h4 class="fs-16 fw-semibold mb-2">Potensi per Bulan</h4>
                                    <p class="fs-14 text-muted mb-1 font-monospace">Pajak Kamar + Pajak Banquet</p>
                                    <p class="fs-14 fw-semibold mb-3">@Model.DataPotensi.PajakKamarBulanan.ToString("C0") + @Model.DataPotensi.PajakBanquetBulanan.ToString("C0") = @Model.DataPotensi.TotalPotensiBulanan.ToString("C0")</p>
                                    <hr>
                                    <h4 class="fs-16 fw-semibold mb-2">Potensi per Tahun</h4>
                                    <p class="fs-14 text-muted mb-1 font-monospace">Potensi per Bulan x 12</p>
                                    <p class="fs-14 fw-semibold mb-3">@Model.DataPotensi.TotalPotensiBulanan.ToString("C0") x 12 = @Model.DataPotensi.TotalPotensiTahunan.ToString("C0")</p>
                                    <hr>
                                    <h4 class="fs-18 fw-semibold text-end">
                                        Total Potensi Tahunan: <span class="text-success">@Model.DataPotensi.TotalPotensiTahunan.ToString("C0")</span>
                                    </h4>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h4 class="fs-16 fw-semibold mb-3">Distribusi Potensi Pajak</h4>
                                    <div class="progress mb-3" style="height:20px">
                                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                             style="width: @Model.DataPotensi.PersenPotensiKamar.ToString("F0")%;"
                                             aria-valuenow="@Model.DataPotensi.PersenPotensiKamar.ToString("F0")">
                                            @Model.DataPotensi.PersenPotensiKamar.ToString("N1")%
                                        </div>
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar"
                                             style="width: @Model.DataPotensi.PersenPotensiBanquet.ToString("F0")%;"
                                             aria-valuenow="@Model.DataPotensi.PersenPotensiBanquet.ToString("F0")">
                                            @Model.DataPotensi.PersenPotensiBanquet.ToString("N1")%
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-center mb-4">
                                        <h6><span class="badge bg-primary">@Model.DataPotensi.PersenPotensiKamar.ToString("N1")%</span> = Kamar</h6>
                                        <h6 class="ms-4"><span class="badge bg-info">@Model.DataPotensi.PersenPotensiBanquet.ToString("N1")%</span> = Banquet</h6>
                                    </div>

                                    <div class="card border border-info border-2">
                                        <div class="card-body bg-soft-info bg-opacity-25 text-center">
                                            <h5 class="fs-16 fw-semibold mb-2">Potensi Pajak per Bulan</h5>
                                            <h3 class="fs-22 fw-bold mb-2">@Model.DataPotensi.TotalPotensiBulanan.ToString("C0")</h3>
                                            <div class="d-flex justify-content-between px-3">
                                                <span class="fs-14 text-muted">Kamar</span>
                                                <span class="fs-14 fw-semibold">@Model.DataPotensi.PajakKamarBulanan.ToString("C0")</span>
                                            </div>
                                            <div class="d-flex justify-content-between px-3">
                                                <span class="fs-14 text-muted">Banquet</span>
                                                <span class="fs-14 fw-semibold">@Model.DataPotensi.PajakBanquetBulanan.ToString("C0")</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> *@
        </div>
    </div>

    <div class="col-lg-4">

        <div class="card">
            <div class="card-header d-flex bg-soft-info">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Ringkasan
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">NOP</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.NOP</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Nama Hotel</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.Nama</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Alamat</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.Alamat</p>
                    </div>
                </div>
                <hr class="my-2">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Jumlah Kamar</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.JumlahTotalRoom Kamar</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Kapasitas Banquet</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.KapasitasMaksimalPaxBanquetPerHari</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex bg-soft-info">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Potensi Pajak
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card border border-info border-2">
                            <div class="card-body bg-soft-info bg-opacity-25 text-center">
                                <h5 class="card-title fs-14 mb-3">
                                    Potensi Pajak per Bulan
                                </h5>
                                <h4 class="card-title fs-22 fw-bold mb-0">
                                    @Model.PotensiPajakPerBulan.ToString("C")
                                </h4>
                                <p class="fs-12 text-muted mt-1">Total Pajak Kamar dan Banquet</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="card border border-info border-2">
                            <div class="card-body bg-soft-info bg-opacity-25 text-center">
                                <h5 class="card-title fs-14 mb-3">
                                    Potensi Pajak per Tahun
                                </h5>
                                <h4 class="card-title fs-22 fw-bold mb-0">
                                    @Model.PotensiPajakPerTahun.ToString("C")
                                </h4>
                                <p class="fs-12 text-muted mt-1">Proyeksi untuk 12 bulan</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex bg-soft-info">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Parameter Perhitungan
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Tingkat Hunian Kamar</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.OkupansiRateRoom.ToString("N2")%</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Tarif Rata-rata Kamar</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.HargaRataRataRoom.ToString("C0")</p>
                    </div>
                </div>
                <hr class="my-2">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Tingkat Okupansi Banquet</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.OkupansiRateBanquet.ToString("N2")%</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Tarif Rata-rata Banquet</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.HargaRataRataBanquetPerPax.ToString("C0")</p>
                    </div>
                </div>
                @* <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Hari Event Banquet/Bulan</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.HargaRataRataBanquetPerPax.HariEventPerBulan.ToString("N0") Hari</p>
                    </div>
                </div> *@
                <hr class="my-2">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Tarif Pajak</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.TarifPajak.ToString("P")</p>
                    </div>
                </div>
            </div>
        </div>
    </div> 

            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header d-flex bg-soft-info">
                        <div class="flex-grow-1">
                            <h4 class="card-title fs-16 mb-0">
                                Rumus Lengkap Perhitungan Potensi Pajak Hotel
                            </h4>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="fs-14 fw-semibold mb-2">
                            Rata-Rata Jumlah Room Terjual/Hari = Jumlah Total Room × Okupansi Rate Room
                        </h4>
                        <h4 class="fs-14 fw-semibold mb-2">
                            Potensi Omzet/Bulan atas Room = Harga Rata-Rata Room × Rata-Rata Room Terjual/Hari × 30 Hari
                        </h4>
                        <h4 class="fs-14 fw-semibold mb-2">
                            Okupansi Rate Banquet = 30% × Okupansi Rate Room
                        </h4>
                        <h4 class="fs-14 fw-semibold mb-2">
                            Rata-Rata Pax Banquet Terjual/Hari = Kapasitas Maksimal Pax Banquet/Hari × Okupansi Rate Banquet
                        </h4>
                        <h4 class="fs-14 fw-semibold mb-2">
                            Potensi Omzet/Bulan atas Banquet = Harga Rata-Rata Banquet/Pax × Rata-Rata Pax Banquet Terjual/Hari × 8 Hari
                        </h4>
                        <h4 class="fs-14 fw-semibold mb-2">
                            Potensi Pajak/Bulan = (Potensi Omzet Room + Potensi Omzet Banquet) × Tarif Pajak
                        </h4>
                        <h4 class="fs-14 fw-semibold mb-2">
                            Potensi Pajak/Tahun = Potensi Pajak/Bulan × @Model.BulanSisa Bulan
                        </h4>
                        @* <hr>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = (((HargaRoom × JumlahRoom × OkupansiRoom × 30) + (HargaBanquet × KapasitasBanquet × 30% × OkupansiRoom × 8)) × TarifPajak) × 12
                    </h4>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = (((e × (c × d) × 30) + (l × i × 30% × d × 8)) × m) × 12
                    </h4>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = (((0 × (0 × 0) × 30) + (0 × 0 × 30% × 0 × 8)) × 10%) × 12
                    </h4>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = ((0 × 30) + (0 × 8)) × 10% × 12
                    </h4>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = (0 + 0) × 10% × 12
                    </h4>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = 0 × 10% × 12
                    </h4>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = 0 × 12
                    </h4>
                    <h4 class="fs-14 fw-semibold mb-2">
                        P = 0
                    </h4>
                    </div>
                </div> *@
            </div>

        </div>
