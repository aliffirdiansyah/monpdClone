@model MonPDReborn.Models.DataOP.ProfilePotensiOPVM.DetailPotensiPajakHiburan

@{
    Layout = "_Layout";
    ViewBag.Title = "Detail Potensi Pajak Fitnes";
}

<div class="row">

    <div class="col-lg-12">
        <div class="card border border-success border-2">
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="d-flex p-3">
                            <div class="flex-shrink-0">
                                <div class="avatar-md me-3">
                                    <span class="avatar-title bg-soft-success rounded-circle fs-1">
                                        <i class="ri-boxing-line text-success"></i>
                                    </span>
                                </div>
                            </div>
                            <div>
                                <h4 class="fs-16 fw-semibold">
                                    @Model.Nama
                                </h4>
                                <p class="fs-16 lh-base">
                                    @Model.Alamat
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="d-flex p-3">
                            <h3 class="fs-16 fw-semibold">
                                Potensi Pajak
                            </h3>
                        </div>
                        <div class="d-flex p-3 py-0">
                            <p class="fs-14 text-muted flex-grow-1">Per Bulan</p>
                            <div class="flex-shrink-0">
                                <p class="fs-16 fw-semibold">Rp. @Model.PotensiPajakPerBulanFitnes.ToString("N0")</p>
                            </div>
                        </div>
                        <div class="d-flex p-3 py-0">
                            <p class="fs-14 text-muted flex-grow-1">Per Tahun</p>
                            <div class="flex-shrink-0">
                                <p class="fs-16 fw-semibold">Rp. @Model.PotensiPajakPerTahunFitnes.ToString("N0")</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="d-flex p-3">
                            <div class="flex-shrink-0 ms-3">
                                <p class="fs-14 text-muted mb-1">NOP</p>
                                <p class="fs-14 fw-semibold mb-3">@Model.NOP</p>
                            </div>
                            <div class="flex-shrink-0 ms-5">
                                <p class="fs-14 text-muted mb-1">Kapasitas Pengunjung</p>
                                <p class="fs-14 fw-semibold mb-3">@Model.Kapasitas Orang</p>
                            </div>
                            <div class="flex-shrink-0 ms-3">
                                <p class="fs-14 text-muted mb-1">Membership Bulanan</p>
                                <p class="fs-14 fw-semibold mb-3">@Model.EstimasiJumlahMemberFitnes.ToString("N0") Orang</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-8">
        
        <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Detail Kunjungan & Membership
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="row">

                    <div class="col-lg-6">
                        <div class="card border border-success border-2">
                            <div class="card-body">
                                <div class="text-center">
                                    <h3 class="fs-18 fw-semibold mb-1">
                                        @Model.EstimasiJumlahMemberFitnes.ToString("N0")
                                    </h3>
                                    <h4 class="fs-14 text-muted">
                                        Estimasi Jumlah Member
                                    </h4>
                                </div>
                            </div>
                        </div>
                    </div>                    

                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="fs-14 fw-semibold mb-2">
                                    Visualisasi Member Aktif
                                </h4>
                                <!-- Multiple Bars -->
                                <div class="progress" style="height:30px">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated text-white" role="progressbar" style="width: 73%" aria-valuenow="73" aria-valuemin="0" aria-valuemax="100">Hari Kerja (73%)</div>
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 27%" aria-valuenow="27" aria-valuemin="0" aria-valuemax="100">Akhir Pekan (27%)</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Kapasitas Pengunjung</p>
                                    <div class="flex-shrink-0">
                                        <p class="fs-16 fw-semibold">@Model.Kapasitas Orang</p>
                                    </div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Turnover Hari Kerja</p>
                                    <div class="flex-shrink-0">
                                        <p class="fs-16 fw-semibold">@Model.TurnoverWeekdays.ToString("P2") Kali</p>
                                    </div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Turnover Akhir Pekan</p>
                                    <div class="flex-shrink-0">
                                        <p class="fs-16 fw-semibold">@Model.TurnoverWeekend.ToString("P2") Kali</p>
                                    </div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Rata-rata Member Bulanan</p>
                                    <div class="flex-shrink-0">
                                        <p class="fs-16 fw-semibold">@Model.EstimasiJumlahMemberFitnes.ToString("N0") Orang</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <div class="card border border-success border-2">
                            <div class="card-body">                                
                                <h4 class="fs-14 fw-semibold mb-1">
                                    Perhitungan Rata-rata Member Bulanan :
                                </h4>
                                <p class="fs-14 text-muted mb-1">
                                    ((Kapasitas x TurnoverWeekdays x 22 Hari) + (Kapasitas x TurnoverWeekend x 8 Hari)) / 12
                                </p>
                                @{
                                    decimal kapasitas = Model.Kapasitas;
                                    decimal turnoverWeekdays = Model.TurnoverWeekdays; // Contoh: 0.75 untuk 75%
                                    decimal turnoverWeekend = Model.TurnoverWeekend;   // Contoh: 0.50 untuk 50%

                                    decimal hasil = ((kapasitas * turnoverWeekdays * 22) + (kapasitas * turnoverWeekend * 8)) / 12;
                                }
                                <p class="fs-14 text-muted mb-1">
                                    ((@Model.Kapasitas x @Model.TurnoverWeekdays.ToString("P2") x 22) + (@Model.Kapasitas x @Model.TurnoverWeekend.ToString("P2") x 8))/12 = @hasil.ToString("N0") Member
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Detail Omzet
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="row">

                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Harga Membership Bulanan</p>
                                    <div class="flex-shrink-0">
                                        <p class="fs-14 fw-semibold">Rp @Model.HargaMemberFitness.ToString("N0")</p>
                                    </div>
                                </div>
                                <div class="d-flex">
                                    <p class="fs-14 text-muted flex-grow-1">Rata-rata Member Bulanan</p>
                                    <div class="flex-shrink-0">
                                        <p class="fs-14 fw-semibold">@Model.EstimasiJumlahMemberFitnes.ToString("N0") Orang</p>
                                    </div>
                                </div>                          
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card border border-success border-2">
                            <div class="card-body">
                                <div class="p-1">
                                    <h4 class="fs-16 fw-semibold mb-4">
                                        Omzet Bulanan
                                    </h4>
                                    <h4 class="fs-16 fw-semibold mb-1">
                                        Rp @Model.OmzetPerBulanFitnes.ToString("N0")
                                    </h4>
                                    <p class="fs-14 text-muted mb-1">Total pendapatan dari membership</p>
                                </div>
                                <br />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <div class="card border border-success border-2">
                            <div class="card-body">
                                <div class="d-flex">
                                    <div class="flex-shrink-0">
                                        <i class="avatar-md ri-information-line text-success fs-3"></i>
                                    </div>
                                    <div class="flex-grow-1 px-3 mt-2">
                                        <h4 class="fs-16 fw-semibold mb-1">
                                            Informasi Omzet
                                        </h4>
                                    </div>
                                </div>
                                <p class="fs-14 text-muted mb-1">
                                    Sebagai pusat kebugaran, Omzet Gym dihitung berdasarkan pendapatan dari membership bulanan, bukan dari penjualan tiket harian.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <div class="card border border-success border-2">
                            <div class="card-body bg-light bg-opacity-25">
                                <h4 class="fs-16 fw-semibold mb-1">
                                    Perhitungan Omzet Bulanan :
                                </h4>
                                <p class="fs-14 text-muted mb-1">
                                    Harga Membership Bulanan x Rata-rata Member Bulanan
                                </p>
                                <p class="fs-14 text-muted mb-1">
                                    Rp @Model.HargaMemberFitness.ToString("N0") x @Model.EstimasiJumlahMemberFitnes.ToString("N0")  = Rp @Model.OmzetPerBulanFitnes.ToString("N0")
                                </p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Perhitungan Potensi Pajak
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="row">

                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="fs-16 fw-semibold mb-2">
                                    Rumus Perhitungan Potensi Pajak Per Bulan :
                                </h4>
                                <p class="fs-14 text-muted mb-1">
                                    Omzet Bulanan x Tarif Pajak
                                </p>
                                <p class="fs-14 text-muted mb-2">
                                    Rp @Model.OmzetPerBulanFitnes.ToString("N0") x @Model.TarifPajak.ToString("P0") = Rp @Model.PotensiPajakPerBulanFitnes.ToString("N0")
                                </p>
                                <h4 class="fs-16 fw-semibold mb-2">
                                    Rumus Perhitungan Potensi Pajak Per Tahun :
                                </h4>
                                <p class="fs-14 text-muted mb-1">
                                    Potensi Pajak Per Bulan x 12
                                </p>
                                <p class="fs-14 text-muted mb-2">
                                    Rp @Model.PotensiPajakPerBulanFitnes.ToString("N0") x 12 = Rp @Model.PotensiPajakPerTahunFitnes.ToString("N0")
                                </p>
                                <h4 class="fs-16 fw-semibold mb-2">
                                    Total Potensi Pajak Per Tahun : Rp @Model.PotensiPajakPerTahunFitnes.ToString("N0")
                                </h4>
                            </div>
                        </div>
                    </div>

                    @* <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="fs-16 fw-semibold mb-3">
                                    Distribusi Omzet Bulanan
                                </h4>
                                <!-- Multiple Bars -->
                                <div class="progress mb-3" style="height:20px">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 93%" aria-valuenow="93" aria-valuemin="0" aria-valuemax="100">93%</div>
                                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 7%" aria-valuenow="7" aria-valuemin="0" aria-valuemax="100">7%</div>
                                </div>
                                <div class="d-flex mb-5">
                                    <h6 class="px-4"><span class="badge bg-primary">93%</span> = Hari Kerja</h6>
                                    <div class="flex-shrink-0">
                                        <h6><span class="badge bg-secondary">7%</span> = Akhir Pekan</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> *@

                    <div class="col-lg-6">
                        <div class="card border border-success border-2">
                            <div class="card-body">
                                <h4 class="fs-18 fw-semibold mb-2">
                                    Potensi Pajak per Bulan
                                </h4>
                                <h4 class="fs-18 fw-semibold mb-2">
                                    Rp. @Model.PotensiPajakPerBulanFitnes.ToString("N0")
                                </h4>                                
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-4">

        <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Ringkasan
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="d-flex">
                    <p class="label">NOP</p>                    
                        <p class="value">@Model.NOP</p>
                </div>
                <div class="d-flex">
                    <p class="label">Nama Usaha</p>                    
                        <p class="value">@Model.Nama</p>                    
                </div>
                <div class="d-flex">
                    <p class="label">Alamat</p>                    
                        <p class="value">@Model.Alamat</p>                    
                </div>
                <div class="d-flex">
                    <p class="label">Kapasitas Pengunjung</p>                    
                        <p class="value">@Model.Kapasitas Pengunjung</p>                    
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Potensi Pajak
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card border border-success border-2">
                            <div class="card-body">
                                <h4 class="card-title fs-14 mb-4">
                                    Potensi Pajak per Bulan
                                </h4>
                                <h4 class="card-title fs-18 mb-0">
                                    Rp @Model.PotensiPajakPerBulanFitnes.ToString("N0")
                                </h4>
                                <p class="fs-12 text-muted">10% dari omzet bulanan</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="card border border-danger border-2">
                            <div class="card-body">
                                <h4 class="card-title fs-14 mb-4">
                                    Potensi Pajak per Tahun
                                </h4>
                                <h4 class="card-title fs-18 mb-0">
                                    Rp @Model.PotensiPajakPerTahunFitnes.ToString("N0")
                                </h4>
                                <p class="fs-12 text-muted">Proyeksi untuk 12 bulan</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @* <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Visualisasi Kunjungan
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Hari Kerja (22 Hari/Bulan)</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">0 Tiket</p>
                    </div>
                </div>

                <div class="progress" style="height:20px">
                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%">75%</div>
                </div>

                <br />
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Akhir Pekan (8 Hari/Bulan)</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">0 Tiket</p>
                    </div>
                </div>

                <div class="progress" style="height:20px">
                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width: 90%">90%</div>
                </div>

            </div>
        </div> *@

        <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Detail Membership
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Harga Membership</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">Rp. @Model.HargaMemberFitness.ToString("N0")</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Rata-rata Member</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.EstimasiJumlahMemberFitnes.ToString("N0") Orang</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Omzet Bulanan</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">Rp. @Model.OmzetPerBulanFitnes.ToString("N0")</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Tarif Pajak</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.TarifPajak.ToString("P0")</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex bg-soft-success">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0">
                        Parameter Perhitungan
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Kapasitas Pengunjung</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.Kapasitas Orang</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Turnover Hari Kerja</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.TurnoverWeekdays.ToString("P2") Kali</p>
                    </div>
                </div>
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Turnover Akhir Pekan</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.TurnoverWeekend.ToString("P2") Kali</p>
                    </div>
                </div>                
                <div class="d-flex">
                    <p class="fs-14 text-muted flex-grow-1">Tarif Pajak</p>
                    <div class="flex-shrink-0">
                        <p class="fs-14 fw-semibold mb-1">@Model.TarifPajak.ToString("P0")</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="col-lg-12">
        <div class="card">
            <div class="card-header d-flex bg-elegant-dark">
                <div class="flex-grow-1">
                    <h4 class="card-title fs-16 mb-0 text-white">
                        Rumus Lengkap Potensi Pajak Hiburan
                    </h4>
                </div>
            </div>
            <div class="card-body">
                <h4 class="fs-16 fw-semibold mb-3">Perhitungan Omzet</h4>

                <p class="fs-14 text-muted font-monospace mb-1">
                    Estimasi Jumlah Member = [(Kapasitas x Turnover Weekdays x 22) + (Kapasitas x Turnover Weekend x 8)] / 12
                </p>
                <p class="fs-14 text-muted mb-2 fw-semibold">
                    = [(@Model.Kapasitas.ToString("N0") x @Model.TurnoverWeekdays.ToString("N2") x 22) +
                    (@Model.Kapasitas.ToString("N0") x @Model.TurnoverWeekend.ToString("N2") x 8)] / 12 = @Model.EstimasiJumlahMemberFitnes.ToString("N0") orang
                </p>

                <p class="fs-14 text-muted font-monospace mb-1">
                    Omzet/Bulan = Harga Member x Estimasi Jumlah Member
                </p>
                <p class="fs-14 text-muted mb-3 fw-semibold">
                    = @Model.HargaMemberFitness.ToString("N0") x @Model.EstimasiJumlahMemberFitnes.ToString("N0") = @Model.OmzetPerBulanFitnes.ToString("N0")
                </p>

                <hr>

                <h4 class="fs-16 fw-semibold mb-3">Perhitungan Potensi Pajak</h4>

                <p class="fs-14 text-muted font-monospace mb-1">
                    Potensi Pajak/Bulan = Omzet/Bulan x Tarif Pajak
                </p>
                <p class="fs-14 text-muted mb-2 fw-semibold">
                    = @Model.OmzetPerBulanFitnes.ToString("N0") x @Model.TarifPajak.ToString("P0") = @Model.PotensiPajakPerBulanFitnes.ToString("N0")
                </p>

                <p class="fs-14 text-muted font-monospace mb-1">
                    Potensi Pajak/Tahun = Potensi Pajak/Bulan x @Model.BulanSisa
                </p>
                <p class="fs-14 text-muted fw-semibold">
                    = @Model.PotensiPajakPerBulanFitnes.ToString("N0") x @Model.BulanSisa = @Model.PotensiPajakPerTahunFitnes.ToString("N0")
                </p>
            </div>
        </div>
    </div>

</div>